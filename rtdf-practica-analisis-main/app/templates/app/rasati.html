{% extends 'app/base.html' %}
{% load static%}


{% block css%}

{% endblock %}
{% block contenido %}
<link type="text/css" rel="stylesheet" href="{% static 'app/css/preregistrados.css' %}">


<script src="{% static 'app/js/jquery-3.6.1.min.js' %}"></script>

<!-- CONTENIDO principal -->





<div style="width:100%; display:flex; justify-content:center; margin:5px;">

<main class="form-signin">

  {% if request.user.is_superuser %}
  {% else %}
    <div class="col-8">
      <h4>Pacientes</h4>
      <select id="pacientes" name="pacientes" class="form-control" style="width:100%;" required>
        <option value="null" disabled selected>Seleccione un paciente</option> <!---->
        {% for p in paciente %}
        <option value="{{ p.id_prof_paci }}">{{ p.id_paciente }}</option>
        {% endfor %}
      </select>
    </div>
<form id="mi-formulario" action="" method="post" style="margin-top:5rem;">
  {% csrf_token %}
  <div class="row">
      <div class="col-6">
        <label for="FORMULARIO.R.id" id="FORMULARIO-R">{{ formulario.R.label_tag }}</label>
          <select name="FORMULARIO-R" id="FORMULARIO-R.id">  
            <option value="" selected disabled>Seleccione valor:</option>
            {% for choice in formulario.R.field.choices %}
            <option value="{{ choice.0 }}">{{ choice.1 }}</option>
            {% endfor %}
          </select>
          <div id="error-messageR"></div>
      </div>
      <div class="col-6">
        <label for="FORMULARIO.A.id" id="FORMULARIO-A">{{ formulario.A.label_tag }}</label>
          <select name="FORMULARIO-A" id="FORMULARIO-A.id">  
            <option value="" selected disabled>Seleccione valor:</option>
            {% for choice in formulario.A.field.choices %}
            <option value="{{ choice.0 }}">{{ choice.1 }}</option>
            {% endfor %}
          </select>
          <div id="error-messageA"></div>
      </div>
  </div>

  <div class="row">
      <div class="col-6">
        <div class="col-6">
          <label for="FORMULARIO.S.id" id="FORMULARIO-S">{{ formulario.S.label_tag }}</label>
            <select name="FORMULARIO-S" id="FORMULARIO-S.id">  
              <option value="" selected disabled>Seleccione valor:</option>
              {% for choice in formulario.S.field.choices %}
              <option value="{{ choice.0 }}">{{ choice.1 }}</option>
              {% endfor %}
            </select>
            <div id="error-messageS"></div>
        </div>
      </div>
      <div class="col-6">
        <div class="col-6">
          <label for="FORMULARIO.A.id" id="FORMULARIO-A">{{ formulario.A.label_tag }}</label>
            <select name="FORMULARIO-A" id="FORMULARIO-A.id">  
              <option value="" selected disabled>Seleccione valor:</option>
              {% for choice in formulario.A.field.choices %}
              <option value="{{ choice.0 }}">{{ choice.1 }}</option>
              {% endfor %}
            </select>
            <div id="error-messageA"></div>
        </div>
      </div>
  </div>

  <div class="row">
      <div class="col-6">
        <div class="col-6">
          <label for="FORMULARIO.T.id" id="FORMULARIO-T">{{ formulario.T.label_tag }}</label>
            <select name="FORMULARIO-T" id="FORMULARIO-T.id">  
              <option value="" selected disabled>Seleccione valor:</option>
              {% for choice in formulario.T.field.choices %}
              <option value="{{ choice.0 }}">{{ choice.1 }}</option>
              {% endfor %}
            </select>
            <div id="error-messageT"></div>
        </div>
      </div>
      <div class="col-6">
        <div class="col-6">
          <label for="FORMULARIO.I.id" id="FORMULARIO-I">{{ formulario.I.label_tag }}</label>
            <select name="FORMULARIO-I" id="FORMULARIO-I.id">  
              <option value="" selected disabled>Seleccione valor:</option>
              {% for choice in formulario.I.field.choices %}
              <option value="{{ choice.0 }}">{{ choice.1 }}</option>
              {% endfor %}
            </select>
            <div id="error-messageI"></div>
        </div>
      </div>

</div>
<div class="row">
      <div class="col-6">
        {{ formulario.id_paciente }}
        {{ formulario.id_fonoaudilogo }}
      </div>
      <div class="col-12">
        {{ formulario.Comentario.label_tag }}
        {{ formulario.Comentario }}
      </div>
</div>




{% endif%}




{% if request.user.is_superuser %}

{% else %}
  <div  class="centerbtn" style="  display: flex; justify-content: end; margin-top:5rem;">
    <button type="submit">REGISTRAR</button>
  </div>
{% endif%}
</form>





    <h4 style="margin-top:5rem;">Historico de RASATI ingresados</h4>
    <table class="table" >
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Paciente</th>
            <th scope="col">R</th>
            <th scope="col">A</th>
            <th scope="col">S</th>
            <th scope="col">A</th>
            <th scope="col">T</th>
            <th scope="col">I</th>
            <th scope="col">Comentario</th>
          </tr>
        </thead>
        <tbody>
             {% for i in form %}

          <tr id={{i.id}}>
            <th value={{i.id}}>{{i.id}}</th>
            <th value={{i.id_paciente}}>{{i.id_paciente}}</th>
            <td value={{i.R}}>{{i.R}}</td>
            <td value={{i.A}}>{{i.A}}</td>
            <td value={{i.S}}>{{i.S}}</td>
            <td value={{i.A}}>{{i.A}}</td>
            <td value={{i.T}}>{{i.T}}</td>
            <td value={{i.I}}>{{i.I}}</td>
            <td value={{i.Comentario}}>{{i.Comentario}}</td>
          </tr>
{% endfor %}
        </tbody>
    </table>

  </main>
</div>



<script src="{% static 'app/js/rasati.js' %}"></script>
{% endblock %}





